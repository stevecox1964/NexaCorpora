All 12 todos are complete. Here's a summary of everything that was implemented:
Backend (6 files modified/created):
backend/requirements.txt -- added sqlite-vec, scikit-learn, numpy
backend/app/database.py -- loads sqlite-vec extension on every connection, creates 4 new tables (transcript_chunks, vec_chunks, video_clusters, cluster_labels)
backend/app/embedding_service.py -- new file with transcript chunking (~2000 chars, 200 overlap), Gemini embedding (gemini-embedding-001, 768-dim), sqlite-vec KNN search, bulk embed, and status functions
backend/app/clustering_service.py -- new file with k-means clustering over per-video mean embeddings, Gemini-powered cluster labeling
backend/app/gemini_service.py -- replaced LIKE-based chat context retrieval with vector similarity search (with summary fallback)
backend/app/transcription_service.py -- auto-embeds transcript chunks after transcription completes (non-fatal)
backend/app/routes.py -- 7 new endpoints: GET /api/search, POST /api/embeddings/build, GET /api/embeddings/status, POST /api/clusters/build, GET /api/clusters, GET /api/clusters/<id>/videos
Frontend (6 files modified/created):
frontend/src/services/api.js -- 6 new API methods (semanticSearch, buildEmbeddings, getEmbeddingStatus, buildClusters, getClusters, getClusterVideos)
frontend/src/App.jsx -- search bar with 400ms debounce, search results view replacing the video list, TopicsPage routing
frontend/src/components/Sidebar.jsx -- added Topics nav item between Videos and Settings
frontend/src/components/TopicsPage.jsx -- new file with topic card grid (thumbnail mosaics), click-to-expand video lists, build/rebuild button
frontend/src/components/SettingsPage.jsx -- added Vector Embeddings section with stats (embedded/pending/chunks) and Build Embeddings button
frontend/src/index.css -- styles for search bar, search results, topic cards, topic video rows, badges, embedding stats
Documentation:
CLAUDE.md -- updated with new data flows (embedding, clustering, RAG chat), architecture tree, 7 new API endpoints, 4 new database tables, updated task checklist, and new development notes for vector search and clustering architecture